path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa",)
length(npn)
tilia<- read.csv(("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv"))
head(tilia)
# Removing for double entries
for(PLANT in unique(acer$PlantNumber)){
acer <- acer[c(which(acer$PlantNumber!=PLANT), which(acer$PlantNumber==PLANT)[1]), ]
}
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
head(tilia)
tilia<- read.csv("//Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
library(googlesheets)
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa",)
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
library(googlesheets)
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa",)
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
head(tilia)
library(googlesheets)
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
setwd(dir.base)
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa",)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
library(googlesheets)
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
setwd(dir.base)
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
setwd(dir.base)
library(googlesheets)
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
viewport()
View(dir.base)
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Acer/ObservingList_Acer.csv")
tilia<- read.csv("../Observing Lists/Acer/Tilia_v_1.csv")
library(googlesheets)
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
setwd(dir.base)
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
View(acc.check)
library(googlesheets)
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa",)
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
tilia<- read.csv("//Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
tilia<- read_csv("//Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
traceback()
tilia<- read.csv("//Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
tilia<- read.csv("../Observing Lists/Tilia/Tilia_v_1.csv")
list.files(dir.base)
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
list.files(path.dat)
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
.maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("../Observing Lists/Tilia/Tilia_v_1.csv")
summary(path.dat)
view(path.dat)
View(path.dat)
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "/Observing Lists/Tilia")
.maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("../Observing Lists/Tilia/Tilia_v_1.csv")
head(tilia)
tilia<- read.csv("../Observing Lists/Tilia/Tilia_v_1.csv")
file.path("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia")
file.path("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia")
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path
.maps.out <- file.path(path.dat)
#maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
file.path("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/")
path.google <- "/Volumes/GoogleDrive/My Drive/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
.maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
#Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("../Observing Lists/Tilia/Tilia_v_1.csv")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology//Observing Lists/Tilia/Tilia_v_1.csv")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
library(googlesheets)
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.dat <- file.path(dir.base, "Observing Lists/Ulmus")
maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "crassifolia", "pumila", "rubra", "alata")
length(npn)
# Species requested from Kim Shearer:
kim <- c("crassifolia", "parvifolia", "thomasii", "minor", "parvifolia", "minor x parvifolia")
# Querying the googlesheet for missing trees up front to make it easier
sheet.gone <- gs_title("Removed Trees - Phenology_LivingCollections")
# Querying the googlesheet for missing trees up front to make it easier
sheet.gone <- gs_title("Removed Trees - Phenology_LivingCollections")
sheet.gone # Prints all the metadata
# Get the particular sheet & coerce it into a data frame rather than something special
df.gone <- data.frame(gs_read(sheet.gone, ws="Removed Trees"))
summary(df.gone)
# ----------------------------
# Narrowing down the phenology observering lists
# ----------------------------
ulmus <- read.csv("../data/collections/Ulmus_2019-10-14_212755276-BRAHMSOnlineData.csv")
View(ulmus)
tilia<- read.csv("../data/Tilia_v_1.csv")
tilia<- read.csv("../Tilia_v_1.csv")
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
.maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("../Tilia_v_1.csv")
tilia<- read.csv("./Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/ObservingList/Tilia/Tilia_v_1.csv")
tilia<- read.csv("./Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/ObservingLists/Tilia/Tilia_v_1.csv")
tilia<- read.csv("./Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_v_1.csv")
tilia<- read.csv("./Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_1.csv")
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
.maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("./Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_1.csv")
tilia<- read.csv("./Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_1")
tilia<- read.csv("./Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_1.csv")
library(ggplot2); library(grid);library(googlesheets4) # graphing packages
library(ggplot2); library(grid);library(googlesheets4) # graphing packages
tilia<- read_csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_1.csv")
tilia<- read_sheet("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_all")
rlang::last_error()
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_1.csv")
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
.maps.out <- file.path(path.dat)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_1.csv")
tilia<- read_sheet("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_all")
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid);library(googlesheets4) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
.maps.out <- file.path(path.dat)
#path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_1.csv")
tilia<- read_sheet("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_all")
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid);library(googlesheets4) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.dat <- file.path(dir.base, "Observing Lists/Tilia")
.maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
#################I don't think I need this because there are no missing Tilia, and I have alreay subset out the Tilia we will be observing
# Querying the googlesheet for missing trees up front to make it easier
sheet.gone <- gs_title("Removed Trees - Phenology_LivingCollections")
sheet.gone # Prints all the metadata
# Get the particular sheet & coerce it into a data frame rather than something special
df.gone <- data.frame(gs_read(sheet.gone, ws="Removed Trees"))
#################I don't think I need this because there are no missing Tilia, and I have alreay subset out the Tilia we will be observing
# Querying the googlesheet for missing trees up front to make it easier
sheet.gone <- gs_title("Removed Trees - Phenology_LivingCollections")
library(googlesheets)
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid) # graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.dat <- file.path(dir.base, "Observing Lists/Ulmus")
maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "crassifolia", "pumila", "rubra", "alata")
length(npn)
# Species requested from Kim Shearer:
kim <- c("crassifolia", "parvifolia", "thomasii", "minor", "parvifolia", "minor x parvifolia")
# Querying the googlesheet for missing trees up front to make it easier
sheet.gone <- gs_title("Removed Trees - Phenology_LivingCollections")
sheet.gone # Prints all the metadata
# Get the particular sheet & coerce it into a data frame rather than something special
df.gone <- data.frame(gs_read(sheet.gone, ws="Removed Trees"))
summary(df.gone)
tilia<- read.csv("/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists/Tilia/Tilia_1.csv")
# ----------------------------
# Narrowing down the phenology observering lists
# ----------------------------
acer <- read.csv("../data/collections/Tilia_1.csv")
# ----------------------------
# Narrowing down the phenology observering lists
# ----------------------------
acer <- read.csv("../data/collections/Acer_2019-03-12_190650301-BRAHMSOnlineData.csv")
get
get(wd)
getwd
getwd()
setwd()
getwd()
file.choose()
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.fuckit <-dat.all(dat.all$PlantNumber !=df.gone$PlantNumber,)
library(ggplot2); library(grid);library (tidyr);library(googlesheets);
library(dplyr); library(readbulk); library(googlesheets4)
#Making sure the working directory in is google drive.
setwd("~/Google Drive/My Drive/LivingCollections_Phenology")
dir.base <- "Google Drive/My Drive/LivingCollections_Phenology"
path.dat <- file.path(dir.base, "Observing Lists")
path.gone <- file.path(dir.base, "Data_Observations")
path.out <- "Google Drive/My Drive/LivingCollections_Phenology/Observing Lists"
#Loading tree lists and place in data frame dat.all
dat.all <- read_bulk(directory = "../LivingCollections_Phenology/Observing Lists/Quercus", extension = ".csv", header=FALSE,)
head(dat.all)
colnames(dat.all)<- c("Obs.List", "PlantNumber", "Taxon", "Vernacular","BgLatitude", "BgLongitude","GardenGrid", "GardenSubGrid", "File")
summary(dat.all)
head(dat.all)
dat.gone <- read_sheet("https://docs.google.com/spreadsheets/d/16xMa6MyJlh3zKkELrDToyoPk_GfoN1NSCVji_ttOCoQ/edit#gid=0")
dat.gone <- read_sheet("https://docs.google.com/spreadsheets/d/16xMa6MyJlh3zKkELrDToyoPk_GfoN1NSCVji_ttOCoQ/edit#gid=0")
df.gone <-data.frame(dat.gone, header=FALSE)
head(df.gone)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.fuckit <-dat.all(dat.all$PlantNumber !=df.gone$PlantNumber,)
summary(dat.all)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.fuckit <-dat.all(dat.all$PlantNumber !=df.gone$PlantNumber,)
summary(dat.all)
head(dat.all)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.fuckit <-dat.all(dat.all$PlantNumber !=df.gone$PlantNumber,)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.all(dat.all$PlantNumber !=df.gone$PlantNumber,)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.all(dat.all$PlantNumber & !=df.gone$PlantNumber,)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.fuckit <- subset(!dat.all, df.gone$PlantNumber)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.fuckit <- subset(!dat.all, df.gone$PlantNumber)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.fuckit <- subset(dat.all, df.gone$PlantNumber)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.fuckit <- subset(dat.all, !df.gone$PlantNumber)
#dat.gone1 <- subset(dat.gone, select = c(PlantNumber))
dat.fuckit <- subset(dat.all, dat.all$PlantNumber !=df.gone$PlantNumber)
anti_join(dat.all, df.gone, by=("PlantNumber"))
new.dat <- anti_join(dat.all, df.gone, by=("PlantNumber"))
View(new.dat)
View(dat.all)
summary(new.dat)
#Writing out new .csv files for the updated observation lists
sapply(unique(new.dat$Obs.List), function(x)
write.csv(new.dat[new.dat$Obs.List==x,],paste0("~/Desktop/R junk",x,".csv"),row.names=FALSE))
summary(new.dat)
# Split dataframe by obs.list
split_new.dat <- split(new.dat, list(new.dat$Obs.List))
# Writing out new .csv files for the updated observation lists
for (Obs.List in names(split_new.dat)) {
write.csv(split_new.dat[["Obs.List"]], paste0("~/Desktop/R junk",Obs.List, ".csv"), row.names=FALSE)
}
# Split dataframe by obs.list
split_new.dat <- split(new.dat, list(new.dat$Obs.List))
# Writing out new .csv files for the updated observation lists
for (Obs.List in names(split_new.dat)) {
write.csv(split_new.dat[["Obs.List"]], paste0("~/Desktop/R junk",Obs.List, ".csv"), row.names=FALSE)
}
# Writing out new .csv files for the updated observation lists
for (Obs.List in names(split_new.dat)) {
write.csv(split_new.dat[["Obs.List"]], paste0("/Desktop/R junk",Obs.List, ".csv"), row.names=FALSE)
}
# Writing out new .csv files for the updated observation lists
for (Obs.List in names(split_new.dat)) {
write.csv(split_new.dat[["Obs.List"]], paste0("~/Desktop/R junk", Obs.List, ".csv"), row.names=FALSE)
}
# Writing out new .csv files for the updated observation lists
for (Obs.List in names(split_new.dat)) {
write.csv(split_new.dat[["Obs.List"]], paste0("~/Desktop/R junk", Obs.List, ".csv"),)
}
# Split dataframe by obs.list
split_new.dat <- split(new.dat, list(new.dat$Obs.List))
View(split_new.dat)
new.dat <- new.dat[!grepl(new.dat$Obs.List,"Obs.List"), header= TRUE]
new.dat <- new.dat[!grepl(new.dat$Obs.List,"Obs.List")]
head(new.dat)
#Joinging two data frames with anti_join, to remove all the values for PlantNumber that match between dat.all and df.gone
new.dat <- anti_join(dat.all, df.gone, by=("PlantNumber"))
summary(new.dat)
head(new.dat)
# Split dataframe by obs.list
split_new.dat <- split(new.dat, list(new.dat$File))
# Split dataframe by obs.list
split_new.dat <- split(new.dat, list(new.dat$File))
# Writing out new .csv files for the updated observation lists
for (File in names(split_new.dat)) {
write.csv(split_new.dat[["File"]], paste0("~/Desktop/R junk", File, ".csv"),)
}
#Joinging two data frames with anti_join, to remove all the values for PlantNumber that match between dat.all and df.gone
new.dat <- anti_join(dat.all, df.gone, by=("PlantNumber"))
summary(new.dat)
head(new.dat)
View(new.dat)
#Renaming colums to make things a little easier
colnames(new.dat)<- c("Obs.List", "PlantNumber", "Taxon", "Vernacular","BgLatitude", "BgLongitude","GardenGrid", "GardenSubGrid", "Spacer")
head(new.dat)
# Split dataframe by obs.list
split_new.dat <- split(new.dat, list(new.dat$Spacer))
# Writing out new .csv files for the updated observation lists
for (Spacer in names(split_new.dat)) {
write.csv(split_new.dat[["Spacer"]], paste0("~/Desktop/R junk", Spacer, ".csv"),)
}
View(split_new.dat)
# Split dataframe by obs.list
split_new.dat <- split(new.dat, list(new.dat$Spacer))
# Writing out new .csv files for the updated observation lists
for (Spacer in names(split_new.dat)) {
write.csv(split_new.dat[[Spacer]], paste0("~/Desktop/R junk/", Spacer, ".csv"),)
}
library (tidyr); library(dplyr); library(readbulk); library(googlesheets4)
#Making sure the working directory in is google drive.
setwd("~/Google Drive/My Drive/LivingCollections_Phenology")
dir.base <- "Google Drive/My Drive/LivingCollections_Phenology"
path.out <- "Google Drive/My Drive/LivingCollections_Phenology/Observing Lists/Quercus"
#Batch loading trees from the Quercus tree observation lists and placing them in data frame dat.all
dat.all <- read_bulk(directory = "../LivingCollections_Phenology/Observing Lists/Quercus", extension = ".csv", header=FALSE,)
head(dat.all)
#Up dating col name from V1, V2, etc to reflect the information in those columns
colnames(dat.all)<- c("Obs.List", "PlantNumber", "Taxon", "Vernacular","BgLatitude", "BgLongitude","GardenGrid", "GardenSubGrid", "Spacer")
summary(dat.all)
head(dat.all)
#Loading the Removed trees google sheet and placing it in a data frame
dat.gone <- read_sheet("https://docs.google.com/spreadsheets/d/16xMa6MyJlh3zKkELrDToyoPk_GfoN1NSCVji_ttOCoQ/edit#gid=0")
df.gone <-data.frame(dat.gone, header=FALSE)
head(df.gone)
#Joinging two data frames with anti_join, to remove all the values for PlantNumber that match
#between dat.all and df.gone and placing them in the new data frame new.dat
new.dat <- anti_join(dat.all, df.gone, by=("PlantNumber"))
summary(new.dat)
View(new.dat)
View(dat.all)
path.out <- "Google Drive/My Drive/LivingCollections_Phenology/Observing Lists/Quercus"
#Batch loading trees from the Quercus tree observation lists and placing them in data frame dat.all
dat.all <- read_bulk(directory = "../LivingCollections_Phenology/Observing Lists/Quercus", extension = ".csv", header=FALSE,)
head(dat.all)
#Up dating col name from V1, V2, etc to reflect the information in those columns
colnames(dat.all)<- c("Obs.List", "PlantNumber", "Taxon", "Vernacular","BgLatitude", "BgLongitude","GardenGrid", "GardenSubGrid", "Spacer")
summary(dat.all)
head(dat.all)
#Loading the Removed trees google sheet and placing it in a data frame
dat.gone <- read_sheet("https://docs.google.com/spreadsheets/d/16xMa6MyJlh3zKkELrDToyoPk_GfoN1NSCVji_ttOCoQ/edit#gid=0")
df.gone <-data.frame(dat.gone, header=FALSE)
head(df.gone)
#Joinging two data frames with anti_join, to remove all the values for PlantNumber that match
#between dat.all and df.gone and placing them in the new data frame new.dat
new.dat <- anti_join(dat.all, df.gone, by=("PlantNumber"))
summary(new.dat)
# Splitting the new.dat dataframe by names in the the "Spacer" column, splits the data into
# the updated observations lists, and the list containing all oaks.
split_new.dat <- split(new.dat, list(new.dat$Spacer))
for (Spacer in names(split_new.dat)) {
write.csv(split_new.dat[[Spacer]], paste0("~/Desktop/R junk/", Spacer, ".csv"),)
}
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid);# graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.dat <- file.path(dir.base, "Observing Lists")
path.out <- "Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists"
.maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
# ----------------------------
# Narrowing down the phenology observering lists
# ----------------------------
tilia <- read.csv("../data/ObservingLists/Tilia_v_1.csv")
# ----------------------------
# Narrowing down the phenology observering lists
# ----------------------------
tilia <- read.csv("../data/ObservingLists/Tilia_v_1.csv")
setwd("~/Documents/GitHub/Phenology_LivingCollections")
library(raster); library(rgdal); library(rgeos) # spatial analysis packages
library(ggplot2); library(grid);# graphing packages
dir.base <- "/Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/"
path.dat <- file.path(dir.base, "Observing Lists")
path.out <- "Volumes/GoogleDrive/My Drive/LivingCollections_Phenology/Observing Lists"
.maps.out <- file.path(path.dat)
path.gis <- "/Volumes/GIS/Collections" # Note: could soft-code this in, but repeating it everywhere is making it easier to search
dir.create(path.dat, recursive = T, showWarnings = F)
# Species in the NPN database
npn <- c("americana", "cordata", "tomentosa")
length(npn)
spp.keep <- c("amurensis", "dasystyla", "euchlora", "europaea", "flavescens", "japonica", "mandshurica","mongolica", "oliveri", "orbicularis","paucicostata","platyphyllos", "zamoyskiana")
# ----------------------------
# Narrowing down the phenology observering lists
# ----------------------------
tilia <- read.csv("../data/ObservingLists/Tilia_v_1.csv")
getwd
getwd()
